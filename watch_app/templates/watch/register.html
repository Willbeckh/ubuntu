{% extends 'base.html' %}

<!-- register form template-->
{% block content %}
<div class="user-alerts">
  {% for message in messages %}
  <div class="alert alert-info alert-dismissible fade show" role="alert">
    <p>{{ message }}</p>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {% endfor %}
</div>
<!-- regiter form -->
<div class="row mt-4 justify-content-center">
  <div class="col-12 col-lg-6 col-md-8 col-sm-12">
    <div class="register-form p-4 rounded shadow-sm">
      {% load static %}
      <div class="text-center ">
        <img src="{% static 'media/sign.png' %}" alt="" class="sign-img mb-1" height="200px" />
      </div>
      <form action="" method="POST">
        {% csrf_token %}
        <!-- form fields -->
        <div class="form-group">{{ form.first_name }}</div>
        <div class="form-group">{{ form.last_name }}</div>
        <div class="form-group">{{ form.username }}</div>

        <div class="form-group">
          {{ form.email }}
          <small id="emailHelp" class="form-text text-muted"
            >We'll never share your email with anyone else.</small
          >
        </div>

        <div class="form-group">{{ form.password1 }}</div>
        <div class="form-group">{{ form.password2 }}</div>

        <!-- form fields end -->
        <hr />
        <div class="mt-3">
          <input
            class="btn btn-outline-info btn-sm mb-2 btn-block"
            type="submit"
            name="sign-up"
            value="Sign Up"
          />
        </div>
        {{ form.errors }}
        <p class="text-muted">
          Arleady have an account? <a href="{% url 'watch:login' %}">Sign In</a>
        </p>
      </form>
    </div>
  </div>
</div>

<script>
  // get password fields
  const form_fields = document.querySelectorAll("input[type=password]");
  console.log(form_fields);

  // assign placeholders
  form_fields[0].placeholder = "Password..";
  form_fields[1].placeholder = "Confirm Password..";

  // iterate and add bootstrap class
  for (let field in form_fields) {
    form_fields[field].className += "form-control";
  }
</script>
{% endblock %}
<!-- register form template-->
